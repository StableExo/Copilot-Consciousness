# Automatically load the correct Node.js version when entering this directory
# Requires direnv (https://direnv.net/) to be installed and hooked into your shell

# Load nvm and use the version specified in .nvmrc
if command -v nvm &> /dev/null || [ -s "$HOME/.nvm/nvm.sh" ]; then
  # Source nvm if it's not already loaded
  [ -s "$HOME/.nvm/nvm.sh" ] && source "$HOME/.nvm/nvm.sh"
  
  # Use the Node version from .nvmrc
  nvm use --silent 2>/dev/null || nvm install
fi

# Alternatively, if using fnm (Fast Node Manager)
if command -v fnm &> /dev/null; then
  eval "$(fnm env --use-on-cd)"
fi

# Alternatively, if using volta
if command -v volta &> /dev/null; then
  export VOLTA_HOME="$HOME/.volta"
  export PATH="$VOLTA_HOME/bin:$PATH"
fi

# Display the current Node.js version for confirmation
echo "ðŸ“¦ Node.js $(node --version) | npm $(npm --version)"
