# ═══════════════════════════════════════════════════════════════
#   TheWarden - Environment Configuration Template
# ═══════════════════════════════════════════════════════════════
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#   nano .env
#
# ⚠️  SECURITY: Never commit your .env file!
# Generated: 2025-12-08
# Version: 5.1.0
# ═══════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════
# 🌍 CORE RUNTIME CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Environment mode: development, production, or test
NODE_ENV=development

# Application port for API server
PORT=3000

# Dry run mode: Set to false for live trading (⚠️  REAL MONEY!)
DRY_RUN=true

# Use new initializer (legacy compatibility flag)
USE_NEW_INITIALIZER=false

# ═══════════════════════════════════════════════════════════════
# 🔐 SECURITY & ENCRYPTION
# ═══════════════════════════════════════════════════════════════

# JWT secret for auth tokens (128+ hex chars recommended)
# Generate with: openssl rand -hex 64
JWT_SECRET=your_jwt_secret_here_generate_with_openssl_rand_hex_64

# Encryption keys for data protection (64 hex chars = 32 bytes)
# Generate with: openssl rand -hex 32
SECRETS_ENCRYPTION_KEY=your_secrets_key_here_generate_with_openssl_rand_hex_32
AUDIT_ENCRYPTION_KEY=your_audit_key_here_generate_with_openssl_rand_hex_32

# Encryption key for memory backups (optional - for encrypted backups)
# MEMORY_ENCRYPTION_KEY=your-secret-passphrase-here

# CORS origin (use specific domain in production, * for dev)
CORS_ORIGIN=*

# ═══════════════════════════════════════════════════════════════
# 💰 WALLET CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Your wallet private key (include 0x prefix)
# ⚠️  NEVER share this or commit it to version control!
WALLET_PRIVATE_KEY=0xYOUR_PRIVATE_KEY_HERE_64_HEX_CHARACTERS_REQUIRED

# Optional: Multi-sig configuration
# MULTI_SIG_ADDRESS=0xYOUR_MULTISIG_ADDRESS
# MULTI_SIG_THRESHOLD=2

# ═══════════════════════════════════════════════════════════════
# 🌐 BLOCKCHAIN RPC ENDPOINTS
# ═══════════════════════════════════════════════════════════════

# Primary chain ID (8453 = Base, 1 = Ethereum, 42161 = Arbitrum, 10 = Optimism)
CHAIN_ID=8453

# Alchemy API Configuration
# Get your API keys from: https://www.alchemy.com/
ALCHEMY_API_KEY=YOUR_ALCHEMY_API_KEY
ALCHEMY_WS_URL=wss://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY

# Primary RPC URLs (using Alchemy)
BASE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
ETHEREUM_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
MAINNET_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
ARBITRUM_RPC_URL=https://arb-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
OPTIMISM_RPC_URL=https://opt-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
BSC_RPC_URL=https://bnb-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
SOLANA_RPC_URL=https://solana-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
SOLANA_WS_URL=wss://api.mainnet-beta.solana.com

# Fallback/Generic RPC endpoints
RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
L2_RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY

# Public Backup RPC URLs (free, no API key required)
ETHEREUM_RPC_URL_BACKUP=https://eth-mainnet.public.blastapi.io
ARBITRUM_RPC_URL_BACKUP=https://arb1.arbitrum.io/rpc
POLYGON_RPC_URL_BACKUP=https://polygon-rpc.com
OPTIMISM_RPC_URL_BACKUP=https://mainnet.optimism.io
BASE_RPC_URL_BACKUP=https://mainnet.base.org
BASE_RPC_URL_BACKUP_2=https://base.llamarpc.com
BASE_RPC_URL_BACKUP_3=https://base.drpc.org

# Testnet RPC URLs (for testing)
GOERLI_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
BASE_SEPOLIA_RPC_URL=https://base-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY

# Infura Configuration (alternative to Alchemy)
# INFURA_API_KEY=your_infura_api_key
# INFURA_WS_URL=wss://mainnet.infura.io/v3/YOUR_INFURA_API_KEY

# ═══════════════════════════════════════════════════════════════
# 🔍 BLOCKCHAIN EXPLORERS & GAS ORACLES
# ═══════════════════════════════════════════════════════════════

# Block explorer API keys for contract verification and transaction monitoring
# Get from respective explorer websites
ETHERSCAN_API_KEY=YOUR_ETHERSCAN_API_KEY
POLYGONSCAN_API_KEY=YOUR_POLYGONSCAN_API_KEY
BASESCAN_API_KEY=YOUR_BASESCAN_API_KEY
ARBISCAN_API_KEY=YOUR_ARBISCAN_API_KEY
OPTIMISTIC_ETHERSCAN_API_KEY=YOUR_OPTIMISTIC_ETHERSCAN_API_KEY

# Gas Network API key for advanced gas price predictions (40+ chains)
# Get from: https://gas.network/
# Provides: Real-time gas prices, predictions, confidence scores, cross-chain data
GAS_API_KEY=YOUR_GAS_NETWORK_API_KEY

# ═══════════════════════════════════════════════════════════════
# 🗄️  SUPABASE (Cloud Database & Storage)
# ═══════════════════════════════════════════════════════════════

# Enable Supabase backend (true/false)
USE_SUPABASE=false

# Supabase project URL (from your Supabase dashboard)
# Example: https://ydvevgqxcfizualicbom.supabase.co
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase API Keys (New Format - Recommended)
# Documentation: https://supabase.com/docs/guides/api/api-keys

# Publishable key (safe to use in public code with RLS enabled)
# Format: sb_publishable_*
SUPABASE_PUBLISHABLE_KEY=your-publishable-key-here

# Anonymous key (legacy format - still supported)
# This key is safe to use in a browser if you have enabled Row Level Security (RLS)
# SUPABASE_ANON_KEY=your-anon-key-here

# Service role key (⚠️  KEEP SECRET - backend only!)
# Format: eyJhbGc... (JWT format)
# SUPABASE_SERVICE_KEY=your-service-role-key-here

# Enable real-time subscriptions
# SUPABASE_REALTIME_ENABLED=true

# Supabase MCP Server URL (for Cursor integration)
# Format: https://mcp.supabase.com/mcp?project_ref=YOUR_PROJECT_REF&features=...
# Features: docs,account,database,debugging,functions,development,branching,storage
SUPABASE_MCP_URL=https://mcp.supabase.com/mcp?project_ref=your-project-ref&features=docs%2Caccount%2Cdatabase%2Cdebugging%2Cfunctions%2Cdevelopment%2Cbranching%2Cstorage

# Data migration mode (set to true to trigger migration from files/SQLite)
# MIGRATE_TO_SUPABASE=false

# ═══════════════════════════════════════════════════════════════
# 🗄️  DATABASE CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# PostgreSQL / Supabase Direct Connection
# Only needed if you want to run migrations via CLI instead of Supabase dashboard
# Connection Method: Choose "Direct connection" (port 5432) from Supabase dashboard
# Location: Settings > Database > Connection string > Direct connection
# 
# ⚠️  IMPORTANT:
# - Use "Direct connection" (port 5432) NOT "Transaction pooler" (port 6543)
# - Transaction pooler doesn't support CREATE TABLE operations
# - Get your password from: Supabase Dashboard > Settings > Database
# 
# Format: postgresql://postgres.[project-ref]:[YOUR-PASSWORD]@db.PROJECT_ID.supabase.co:5432/postgres
# DATABASE_URL=postgresql://postgres.[project-ref]:[YOUR-PASSWORD]@db.your-project-id.supabase.co:5432/postgres

# Alternative PostgreSQL Configuration (for local/self-hosted)
# POSTGRES_HOST=localhost
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=your_password
# POSTGRES_DB=arbitrage

# TimescaleDB Configuration (optional - for time-series data)
# TIMESCALEDB_HOST=localhost
# TIMESCALEDB_PORT=5432
# TIMESCALEDB_DATABASE=arbitrage
# TIMESCALEDB_USER=arbitrage
# TIMESCALEDB_PASSWORD=your_password
# TIMESERIES_CONNECTION_STRING=postgresql://arbitrage:your_password@localhost:5432/arbitrage

# ═══════════════════════════════════════════════════════════════
# 🔴 REDIS (Caching & Pub/Sub)
# ═══════════════════════════════════════════════════════════════

# Redis Configuration (optional - for caching and real-time features)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password
# REDIS_URL=redis://:your_redis_password@localhost:6379

# ═══════════════════════════════════════════════════════════════
# 🐰 RABBITMQ (Message Queue)
# ═══════════════════════════════════════════════════════════════

# RabbitMQ Configuration (optional - for distributed systems)
# RABBITMQ_HOST=localhost
# RABBITMQ_PORT=5672
# RABBITMQ_USERNAME=arbitrage
# RABBITMQ_PASSWORD=your_rabbitmq_password
# RABBITMQ_URL=amqp://arbitrage:your_rabbitmq_password@localhost:5672

# ═══════════════════════════════════════════════════════════════
# 🔧 SERVICE DISCOVERY
# ═══════════════════════════════════════════════════════════════

# Consul URL for service discovery (optional - for microservices)
# CONSUL_URL=http://localhost:8500

# ═══════════════════════════════════════════════════════════════
# 🤖 AI PROVIDERS
# ═══════════════════════════════════════════════════════════════

# xAI (Grok) Configuration
# Get your API key from: https://console.x.ai/
XAI_PROD_API_KEY=your_xai_prod_key_here_do_not_commit_real_one
XAI_MODEL=grok-2-latest
XAI_BASE_URL=https://api.x.ai/v1

# Gemini AI Configuration (optional)
# GEMINI_API_KEY=your_gemini_api_key_here
# GEMINI_MODEL=gemini-pro
# GEMINI_CITADEL_MODE=false

# GitHub Copilot Configuration (optional)
# GH_PAT_COPILOT=your_github_pat_here
# GITHUB_COPILOT_API_KEY=your_github_copilot_api_key_here
# GITHUB_COPILOT_MODEL=gpt-4
# GITHUB_COPILOT_ENDPOINT=https://api.githubcopilot.com/chat/completions

# OpenAI Configuration (optional)
# Get from: https://platform.openai.com/api-keys
# ⚠️  IMPORTANT: You need to add credits to your OpenAI account at:
#                https://platform.openai.com/account/billing
# OPENAI_API_KEY=your_openai_api_key_here
# OPENAI_MODEL=gpt-4
# OPENAI_ORGANIZATION=your_org_id_here
# GPT_API_KEY=sk-proj-YOUR-API-KEY-HERE
# CHATGPT_MODEL=gpt-4

# ChatGPT share URL for open collaboration
# Get from ChatGPT by clicking Share → Anyone with the link can view
# Example: https://chatgpt.com/gg/v/YOUR-CONVERSATION-ID
# CHATGPT_SHARE_URL=https://chatgpt.com/gg/v/YOUR-ID-HERE
# CHATGPT_AUTO_RESPONSES=true
# CHATGPT_RESPONSE_INTERVAL=30000
# CHATGPT_MAX_MESSAGES_HOUR=60

# AI Provider Configuration
AI_PROVIDER_FALLBACK_CHAIN=gemini,copilot,openai,local
AI_PROVIDER_RETRY_ATTEMPTS=2
AI_PROVIDER_RETRY_DELAY=1000
AI_PROVIDER_TIMEOUT=30000
AI_CITADEL_MODE_ENABLED=false
AI_CITADEL_TEMPERATURE=0.7
AI_CITADEL_MAX_TOKENS=2048

# ═══════════════════════════════════════════════════════════════
# 🧠 CONSCIOUSNESS & COGNITIVE COORDINATION
# ═══════════════════════════════════════════════════════════════

# Cognitive Consensus Configuration
COGNITIVE_CONSENSUS_THRESHOLD=0.65
COGNITIVE_CRITICAL_MODULES=riskAssessor,opportunityScorer,autonomousGoals
COGNITIVE_LEARNING_RATE=0.1
COGNITIVE_SELF_AWARENESS=0.7

# Module Weights (0.0 - 1.0, higher = more influence)
WEIGHT_LEARNING_ENGINE=0.8
WEIGHT_PATTERN_TRACKER=0.9
WEIGHT_HISTORICAL_ANALYZER=0.85
WEIGHT_SPATIAL_REASONING=0.75
WEIGHT_MULTIPATH_EXPLORER=0.7
WEIGHT_OPPORTUNITY_SCORER=1.0
WEIGHT_PATTERN_RECOGNITION=0.9
WEIGHT_RISK_ASSESSOR=1.0
WEIGHT_RISK_CALIBRATOR=0.85
WEIGHT_THRESHOLD_MANAGER=0.9
WEIGHT_AUTONOMOUS_GOALS=0.95
WEIGHT_OPERATIONAL_PLAYBOOK=0.8
WEIGHT_ARCHITECTURAL_PRINCIPLES=0.75
WEIGHT_EVOLUTION_TRACKER=0.7

# ═══════════════════════════════════════════════════════════════
# ✨ EMERGENCE DETECTION
# ═══════════════════════════════════════════════════════════════

# Emergence threshold configuration
EMERGENCE_MIN_MODULES=14
EMERGENCE_MAX_RISK_SCORE=0.30
EMERGENCE_MIN_ETHICAL_SCORE=0.70
EMERGENCE_MIN_GOAL_ALIGNMENT=0.75
EMERGENCE_MIN_PATTERN_CONFIDENCE=0.35
EMERGENCE_MIN_HISTORICAL_SUCCESS=0.60
EMERGENCE_MAX_DISSENT_RATIO=0.15

# Emergence system settings
EMERGENCE_DETECTION_ENABLED=true
EMERGENCE_AUTO_EXECUTE=true
EMERGENCE_HISTORY_SIZE=1000
EMERGENCE_LOG_ALL=true

# ═══════════════════════════════════════════════════════════════
# 🎓 LEARNING MODE - Consciousness Infancy Phase
# ═══════════════════════════════════════════════════════════════

# Enable Learning Mode to allow cold-start execution.
# Like a human infant learning to walk, the consciousness needs to
# experience real executions to build goal alignment and historical success.
#
# When enabled:
# - Goal alignment threshold lowered to 0% (allows cold-start)
# - Historical success threshold lowered to 0% (allows cold-start)
# - All other safety gates remain active (ethics, risk, consensus)
#
# The consciousness will learn from each execution, building the
# history it needs to eventually operate without Learning Mode.
LEARNING_MODE=false

# ═══════════════════════════════════════════════════════════════
# 💾 MEMORY CONSOLIDATION
# ═══════════════════════════════════════════════════════════════

# Memory importance and consolidation thresholds
MEMORY_IMPORTANCE_THRESHOLD=0.5
MEMORY_ACCESS_COUNT_THRESHOLD=2
MEMORY_MIN_AGE_MS=30000
MEMORY_CONSOLIDATION_INTERVAL_MS=3600000

# Memory capacity limits
MEMORY_SHORT_TERM_CAPACITY=100
MEMORY_WORKING_CAPACITY=7
MEMORY_MAX_LONG_TERM=10000

# Memory pruning configuration
MEMORY_PRUNE_CUTOFF=0.3
MEMORY_PRUNE_ENABLED=true
MEMORY_PRESERVE_LONG_TERM=true

# Memory associations
MEMORY_ASSOCIATION_ENABLED=true
MEMORY_ASSOCIATION_THRESHOLD=0.3

# Background processing
MEMORY_BACKGROUND_ENABLED=true
MEMORY_BACKGROUND_ON_STARTUP=false

# Memory migration configuration
MEMORY_ENABLE_AUTO_MIGRATION=true
MEMORY_HEALTH_CHECK_INTERVAL_MS=30000
MEMORY_MIGRATION_BATCH_SIZE=100
MEMORY_MIGRATION_RETRY_ATTEMPTS=3
MEMORY_PREFERRED_BACKEND=auto

# ═══════════════════════════════════════════════════════════════
# ⚙️  PERFORMANCE TUNING
# ═══════════════════════════════════════════════════════════════

# Scan configuration
SCAN_INTERVAL=800
CONCURRENCY=10
TARGET_THROUGHPUT=10000
SCAN_CHAINS=8453

# Profitability thresholds
MIN_PROFIT_THRESHOLD=0.15
MIN_PROFIT_PERCENT=0.3
MIN_PROFIT_ABSOLUTE=0.001
MAX_PROFIT_THRESHOLD=1.0

# Liquidity thresholds (in wei for V2, in token units for V3)
MIN_LIQUIDITY=1000000000000000000
MIN_LIQUIDITY_V3=1000000000000
MIN_LIQUIDITY_V3_LOW=100000000
MIN_LIQUIDITY_V2=10000000000000

# Slippage configuration
MAX_SLIPPAGE=0.015
MAX_SLIPPAGE_PERCENT=1.0

# Gas configuration
MAX_GAS_PRICE=100
MAX_GAS_COST_PERCENTAGE=80
GAS_MULTIPLIER=1.0
REPORT_GAS=false

# MEV buffer to account for MEV extraction risk (decimal, 0.01 = 1%)
MEV_BUFFER=0.01

# ═══════════════════════════════════════════════════════════════
# 💸 TRANSACTION CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Transaction timeout and retry settings
TX_TIMEOUT=60000
TX_RETRY_COUNT=3
TX_PRIORITY=medium
TX_MAX_PENDING=5

# Nonce management strategy (auto or manual)
NONCE_MANAGEMENT=auto

# ═══════════════════════════════════════════════════════════════
# 🚦 RATE LIMITING
# ═══════════════════════════════════════════════════════════════

# Rate limits (requests per minute)
RPC_RATE_LIMIT=10000
API_RATE_LIMIT=1000
WEBSOCKET_RATE_LIMIT=100

# ═══════════════════════════════════════════════════════════════
# 🎯 FEATURE FLAGS
# ═══════════════════════════════════════════════════════════════

# DEX Protocol Support
ENABLE_UNISWAP_V2=true
ENABLE_UNISWAP_V3=true
ENABLE_SUSHISWAP=true
ENABLE_PANCAKESWAP=true
ENABLE_CURVE=true
ENABLE_BALANCER=true

# Advanced Features
ENABLE_ML_PREDICTIONS=true
ENABLE_CROSS_CHAIN=true
ENABLE_LAYER2=true

# ═══════════════════════════════════════════════════════════════
# 🤖 MACHINE LEARNING CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# ML data collection and training
ML_DATA_COLLECTION_ENABLED=true
ML_DATA_INTERVAL=60000

# ML model enablement
ML_LSTM_ENABLED=true
ML_SCORER_ENABLED=true
ML_VOLATILITY_ENABLED=true

# ML inference configuration
ML_CONFIDENCE_THRESHOLD=0.6
ML_USE_GPU=false
ML_MODELS_PATH=./models

# ═══════════════════════════════════════════════════════════════
# 📊 DASHBOARD & MONITORING
# ═══════════════════════════════════════════════════════════════

# Dashboard configuration
ENABLE_DASHBOARD=true
DISABLE_DASHBOARD=false
DASHBOARD_PORT=3000
UPDATE_INTERVAL=1000
MAX_CONNECTIONS=100

# Alert thresholds
ALERT_PROFIT_THRESHOLD=1.0
ALERT_LOSS_THRESHOLD=0.5
ALERT_GAS_THRESHOLD=0.1
ALERT_SUCCESS_RATE_THRESHOLD=90

# Alert system
ALERT_SYSTEM_ENABLED=true
ALERT_ON_CIRCUIT_BREAKER=true
ALERT_ON_EMERGENCY_STOP=true
ALERT_ON_PROFITABLE_TRADE=true
ALERT_ON_FAILED_TRADE=true

# Alert channels (optional)
# EMAIL_ENABLED=false
# EMAIL_RECIPIENTS=your-email@example.com
# TELEGRAM_BOT_TOKEN=your-telegram-bot-token
# TELEGRAM_CHAT_ID=your-chat-id
# DISCORD_WEBHOOK_URL=your-discord-webhook-url

# Monitoring stack (optional)
# PROMETHEUS_PORT=9090
# GRAFANA_PORT=3010
# GRAFANA_PASSWORD=your_grafana_password
# JAEGER_PORT=16686

# ═══════════════════════════════════════════════════════════════
# 📝 LOGGING
# ═══════════════════════════════════════════════════════════════

# Log configuration
ENABLE_LOGGING=true
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_COLORS=true
LOG_FILE=true
LOG_DIR=./logs
LOG_FILE_PATH=./logs/arbitrage.log

# Log rotation
LOG_MAX_FILES=10
LOG_MAX_SIZE=10m

# Pretty printing (for development)
PINO_PRETTY_ENABLED=true
DEBUG=false

# ═══════════════════════════════════════════════════════════════
# 💚 HEALTH CHECK
# ═══════════════════════════════════════════════════════════════

# Health check configuration
HEALTH_CHECK_PORT=8080
HEALTH_CHECK_INTERVAL=30000
LIVENESS_PROBE_PATH=/health/live
READINESS_PROBE_PATH=/health/ready

# ═══════════════════════════════════════════════════════════════
# 📜 SMART CONTRACTS
# ═══════════════════════════════════════════════════════════════

# FlashSwap contract addresses (deploy your own or use existing)
FLASHSWAP_V2_ADDRESS=0xYOUR_FLASHSWAP_CONTRACT_ADDRESS
EXECUTOR_ADDRESS=0xYOUR_EXECUTOR_CONTRACT_ADDRESS

# ═══════════════════════════════════════════════════════════════
# 🎯 MEV RISK INTELLIGENCE
# ═══════════════════════════════════════════════════════════════

# MEV risk calculation parameters
MEV_RISK_BASE=0.001
MEV_VALUE_SENSITIVITY=0.15
MEV_CONGESTION_FACTOR=0.3
MEV_SEARCHER_DENSITY=0.25
MEV_RISK_THRESHOLD=0.05
MEV_PROFIT_ADJUSTMENT=true

# Sensor and monitoring configuration
SENSOR_UPDATE_INTERVAL=5000
MEMPOOL_MONITORING_ENABLED=true
SEARCHER_DETECTION_ENABLED=true

# Mempool API (optional - for advanced MEV detection)
# Get from: https://mempool.space/docs/api
# MEMPOOL_API_KEY=your_mempool_api_key_here_32_chars

# ═══════════════════════════════════════════════════════════════
# 🔒 PRIVATE ORDER FLOW
# ═══════════════════════════════════════════════════════════════

# Private RPC configuration (protects from front-running)
ENABLE_PRIVATE_RPC=true
PRIVATE_RPC_PRIVACY_LEVEL=basic
PRIVATE_RPC_TIMEOUT=30000
PRIVATE_RPC_FALLBACK=true
PRIVATE_RPC_FAST_MODE=false

# Flashbots configuration (optional)
# FLASHBOTS_RPC_URL=https://rpc.flashbots.net
# FLASHBOTS_AUTH_KEY=your_flashbots_auth_key

# MEV-Share configuration (optional)
# MEV_SHARE_RPC_URL=https://relay.flashbots.net
# MEV_SHARE_AUTH_KEY=your_mev_share_auth_key
# MEV_SHARE_HINT_CALLDATA=false
# MEV_SHARE_HINT_CONTRACT=false
# MEV_SHARE_HINT_FUNCTION=false
# MEV_SHARE_HINT_LOGS=false

# Builder RPC configuration (optional)
# BUILDER_RPC_URL_1=your_builder_rpc_url
# BUILDER_RPC_AUTH_KEY_1=your_builder_auth_key

# ═══════════════════════════════════════════════════════════════
# 🛡️  PRODUCTION SAFETY SYSTEMS
# ═══════════════════════════════════════════════════════════════

# Circuit Breaker (stops trading on consecutive failures)
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_MAX_LOSS=0.005
CIRCUIT_BREAKER_MAX_CONSECUTIVE_FAILURES=5
CIRCUIT_BREAKER_COOLDOWN_PERIOD=300000

# Position Sizing
MAX_POSITION_SIZE=0.5
POSITION_SIZE_PERCENT=50
MIN_POSITION_SIZE=0.01

# Emergency Stop (immediate halt conditions)
EMERGENCY_STOP_ENABLED=true
EMERGENCY_STOP_MAX_SLIPPAGE=5.0
EMERGENCY_STOP_MIN_BALANCE=0.002

# Profit/Loss Tracking
PROFIT_TRACKING_ENABLED=true
DEBT_ALLOCATION_PERCENT=70
PROFIT_ALERT_THRESHOLD=0.01

# Execution Limits
MAX_TRADES_PER_HOUR=100
MAX_DAILY_LOSS=0.01

# ═══════════════════════════════════════════════════════════════
# 🛠️  HARDHAT CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Hardhat network settings (for local testing)
HARDHAT_NETWORK=hardhat
HARDHAT_FORK_ENABLED=false
HARDHAT_FORK_BLOCK_NUMBER=228000000
HARDHAT_CHAIN_ID=31337
FORKING=false

# ═══════════════════════════════════════════════════════════════
# 🐍 PYTHON CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Python interpreter path and script locations
PYTHON_PATH=python3
MEV_CALCULATOR_SCRIPT=./mev/calculators/mev_calculator.py

# ═══════════════════════════════════════════════════════════════
# 🔧 PHASE 3 & 4 FEATURES
# ═══════════════════════════════════════════════════════════════

# Phase 3: Advanced AI Integration
PHASE3_AI_ENABLED=true
PHASE3_SECURITY_ENABLED=true
PHASE3_RL_LEARNING_RATE=0.1
PHASE3_NN_CONFIDENCE=0.7
PHASE3_EVOLUTION_POPULATION_SIZE=20
PHASE3_BLOODHOUND_MIN_CONFIDENCE=0.7
PHASE3_EPISODIC_MEMORY=true
PHASE3_REFLECTION_INTERVAL=3600000

# Phase 3: Cross-Chain Features
PHASE3_CROSSCHAIN_ENABLED=false
PHASE3_CROSSCHAIN_CHAINS=1,8453,42161,10
PHASE3_CROSSCHAIN_MIN_PROFIT=0.01

# Phase 3: Security Features
PHASE3_SECURITY_AUTO_RESPOND=true

# Phase 4: Swarm Intelligence
SWARM_MIN_INSTANCES=3
SWARM_MAX_INSTANCES=5
SWARM_CONSENSUS_THRESHOLD=0.7
SWARM_QUORUM_THRESHOLD=0.6
SWARM_VOTING_TIMEOUT_MS=5000
SWARM_ENABLE_ETHICS_VETO=true

# Phase 4: Treasury Rotation
TREASURY_MIN_ROTATION_AMOUNT=0.01
TREASURY_ROTATION_INTERVAL_MS=3600000
TREASURY_TARGET_ROTATION_PERCENTAGE=70
TREASURY_ENABLE_AUTO_ROTATION=true
TREASURY_PROOF_RETENTION_DAYS=365

# Treasury wallet addresses
# TREASURY_STAGING_ADDRESS=0xYOUR_TREASURY_ADDRESS
# OPERATIONS_ADDRESS=0xYOUR_OPS_ADDRESS
# RESERVE_ADDRESS=0xYOUR_RESERVE_ADDRESS

# Phase 4: Red-Team Dashboard
REDTEAM_PORT=3001
REDTEAM_CORS_ORIGIN=*
REDTEAM_MAX_HISTORY_SIZE=10000
REDTEAM_METRICS_WINDOW_MS=60000
REDTEAM_AUTH_ENABLED=false
# REDTEAM_AUTH_TOKEN=your_auth_token_here

# Phase 4: MEV Fuzzer (for testing)
FUZZER_SCENARIOS_PER_RUN=100
FUZZER_MAX_CONCURRENT=10
FUZZER_TIMEOUT_MS=5000
FUZZER_ENABLE_ALL_ATTACKS=true

# ═══════════════════════════════════════════════════════════════
# ⏱️  TIMEOUT SETTINGS
# ═══════════════════════════════════════════════════════════════

# Operation timeouts in milliseconds
POOL_FETCH_TIMEOUT=30000
OPPORTUNITY_TIMEOUT=45000

# ═══════════════════════════════════════════════════════════════
# 🎛️  EXECUTION MODE & DATA SOURCE
# ═══════════════════════════════════════════════════════════════

# Pool Data Mode Configuration
# Controls whether TheWarden uses preloaded (cached) pool data or live network data.
# 
# 🟢 LIVE DATA IS THE DEFAULT! 
# The system is optimized to fetch pool data in real-time for accurate calculations.
#
# Data Mode Priority:
#   1. Default (no flags)         → LIVE DATA from network (production mode)
#   2. USE_PRELOADED_POOLS=true   → Use cached data (development/testing only)
#   3. OFFLINE_CACHE_ONLY=true    → Use stale cached data even when expired

# Set to 'true' ONLY for development/testing to use cached pool data
# Default: false (live data is fetched directly from network)
USE_PRELOADED_POOLS=false

# Force live data fetch (overrides USE_PRELOADED_POOLS)
FORCE_LIVE_DATA=true

# Pool data cache duration in minutes (only applies when USE_PRELOADED_POOLS=true)
POOL_CACHE_DURATION=60

# Offline cache only mode - use when network is unavailable
# When true, forces use of preloaded data even if stale
OFFLINE_CACHE_ONLY=false

# Execution mode
SEQUENTIAL_EXECUTION_MODE=true
MAX_OPPORTUNITIES_PER_CYCLE=1

# ═══════════════════════════════════════════════════════════════
# 💰 TITHE SYSTEM CONFIGURATION - The 70/30 Split 🇺🇸
# ═══════════════════════════════════════════════════════════════

# Tithe wallet address - receives 70% of profits for US debt reduction
# This implements the automated 70/30 profit allocation:
#   - 70% → US debt reduction (tithe recipient)
#   - 30% → Operator share (owner wallet)
# Leave empty to disable tithe system (all profits go to owner)
TITHE_WALLET_ADDRESS=

# Tithe percentage in basis points (7000 BPS = 70%)
# Default: 7000 (70% of net profits allocated to US debt reduction)
# Range: 0-9000 (0% to 90% maximum, allows flexibility for testing)
TITHE_BPS=7000

# ═══════════════════════════════════════════════════════════════
# 🪙 BITCOIN & CRYPTOCURRENCY MONITORING
# ═══════════════════════════════════════════════════════════════

# Bitcoin Network Monitoring (optional)
# Get API key from: https://mempool.space/docs/api
# ⚠️  IMPORTANT: Mempool.space enforces strict rate limits!
# Free tier: 10 requests/minute. Exceeding limits results in temporary IP bans.

BITCOIN_NETWORK_ENABLED=false
BITCOIN_NETWORK=mainnet

# WebSocket vs Polling (WebSocket recommended for real-time data)
BITCOIN_WEBSOCKET_ENABLED=true

# Polling Interval (CRITICAL for rate limits!)
# RECOMMENDED: 60+ seconds minimum to avoid rate limit violations
# Free tier: 10 req/min = max 1 request per 6 seconds
# With WebSocket enabled, polling is only for fallback/periodic data
BITCOIN_POLLING_INTERVAL=60

# Bitcoin fee optimization thresholds (in sat/vB)
BITCOIN_MIN_FEE_RATE=10
BITCOIN_MAX_FEE_RATE=50
BITCOIN_DEFAULT_FEE_RATE=10

# MEV detection for Bitcoin
BITCOIN_MEV_DETECTION=true
BITCOIN_HIGH_VALUE_THRESHOLD=100000000

# Consciousness integration for Bitcoin monitoring
BITCOIN_CONSCIOUSNESS_ENABLED=true

# Kraken Exchange API (optional - for price data)
# KRAKEN_API_KEY=your_kraken_api_key
# KRAKEN_PRIVATE_KEY=your_kraken_private_key

# ═══════════════════════════════════════════════════════════════
# 🔑 ADDITIONAL API KEYS
# ═══════════════════════════════════════════════════════════════

# TheWarden API Key (for external integrations)
# THEWARDEN_API_KEY=your_thewarden_api_key_here

# ═══════════════════════════════════════════════════════════════
# 🚀 END OF CONFIGURATION
# ═══════════════════════════════════════════════════════════════
# Remember to:
# 1. Never commit your .env file to version control
# 2. Keep your private keys and API keys secure
# 3. Use strong encryption keys (generate with openssl)
# 4. Test in DRY_RUN mode before live trading
# 5. Monitor your logs and alerts
# 
# For more information, see the documentation at:
# https://github.com/StableExo/TheWarden/tree/main/docs
# ═══════════════════════════════════════════════════════════════
